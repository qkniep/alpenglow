SPECIFICATION Spec

\* 4 validators total: 1 Byzantine (25% stake), 3 Honest (75% stake)
\* This tests realistic Byzantine threshold: 25% < 33% (safe), honest 75% > 67% (supermajority)
\* Protocol requires 60% quorum for slow path, 80% for fast path
\* With 3 honest validators: 75% stake ensures both paths can succeed
\* Note: MaxSlot=2 (reduced from 3) to keep state space tractable with Byzantine equivocations
CONSTANTS
  Validators = {v1, v2, v3, v4}
  ByzantineValidators = {v1}
  MaxSlot = 2
  TotalStake = 100

\* Type correctness
INVARIANT TypeOK

\* Core safety properties (must hold even with Byzantine validators)
INVARIANT NoConflictingFinalizations
INVARIANT FastFinalImpliesNotar
INVARIANT FinalRequiresNotar
INVARIANT ConsistentCertificates
INVARIANT CertificateUniqueness
INVARIANT StakeThresholdCorrectness
INVARIANT ChainConsistency
INVARIANT HonestNoEquivocation
INVARIANT FastPathRequiresStrongQuorum
INVARIANT FinalizedHaveValidCerts
INVARIANT BlocksExistBeforeVoting
INVARIANT CertificatesRequireVotes

\* Byzantine-specific invariants
INVARIANT ByzantineStakeBounded
INVARIANT HonestMajority
INVARIANT EquivocationsOnlyByzantine
INVARIANT SafetyDespiteEquivocation
